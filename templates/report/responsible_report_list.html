{% extends 'new_base.html' %}

{% load web_filters %}

{% block path %}
    <li class="breadcrumb-item active" aria-current="page">Report List</li>
{% endblock %}

{% block content %}
    <main class="responsible-report-list">
        <div class="container">
            <div class="row justify-content-center">
                <div class="col-lg-12 col-md-8 col-sm-5 col-xs-2">
                    <h2>Responsible Category List.</h2>

                    <div class="table-responsive">
                        <table class="table table-hover">
                            <thead class="thead-light">
                                <tr>
                                    <th>Category.</th>
                                    <th>Content.</th>
                                    <th>State.</th>
                                    <th></th>
                                </tr>
                            </thead>

                            <tbody>
                                {% if reports %}
                                    {% for report in reports %}
                                        <tr {% if report.staff_notification %}class="table-active"{% endif %} onclick="window.location.href='{% url 'report_reply' report.id %}'" style="cursor: pointer">
                                            <td>{{ report.category }}</td>
                                            <td style="text-align: left">{{ report.supplement_note|safe|summary:51 }}</td>
                                            <td>{{ report.state|readable_report_state }}</td>
                                            <td style="font-size: 12px; vertical-align: bottom">{{ report.created_time|date:"H:i, m/d/Y" }}</td>
                                        </tr>
                                    {% endfor %}
                                {% else %}
                                    <tr><td colspan='4' class="text-center">No Data.</td></tr>
                                {% endif %}
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>
        </div>
    </main>

    <style>
        .responsible-report-list .container{
            height: 70%;
        }
    </style>
{% endblock %}